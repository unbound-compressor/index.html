<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unbound Compressor | MB to kB Image Resizer for All Exams</title>
    <meta name="description" content="SSC, UPSC, Railway, Police ‡§î‡§∞ ‡§∏‡§≠‡•Ä ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§§‡•á‡§ú‡§º MB to kB ‡§á‡§Æ‡•á‡§ú ‡§ï‡§Ç‡§™‡•ç‡§∞‡•á‡§∏‡§∞‡•§ ‡§Ö‡§™‡§®‡•Ä ‡§´‡•ã‡§ü‡•ã ‡§î‡§∞ ‡§∏‡§æ‡§á‡§® ‡§ï‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§∏‡§π‡•Ä ‡§∏‡§æ‡§á‡§ú ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç‡•§">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #9b4dca; --bg: #f4f4f9; --secondary: #6c5ce7; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .navbar { background: white; width: 100%; padding: 15px 0; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); color: var(--primary); font-weight: 600; font-size: 20px; }
        .container { background: white; width: 90%; max-width: 450px; margin: 30px auto; padding: 25px; border-radius: 15px; box-shadow: 0 5px 20px rgba(0,0,0,0.05); text-align: center; position: relative; }
        
        /* ‡§´‡§º‡•â‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§æ ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ */
        .info-badge { background: #f0e6f7; color: var(--primary); font-size: 12px; padding: 5px 15px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-weight: 600; }

        .upload-area { border: 2px dashed #ddd; border-radius: 12px; padding: 20px; cursor: pointer; transition: 0.3s; min-height: 120px; display: flex; align-items: center; justify-content: center; flex-direction: column; background: #fff; }
        .upload-area:hover { border-color: var(--primary); background: #fdf8ff; transform: scale(1.01); }
        
        #preview { max-width: 100px; max-height: 100px; border-radius: 8px; display: none; margin-bottom: 10px; border: 1px solid #eee; animation: popIn 0.3s ease; }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        .input-group { margin: 25px 0; display: flex; justify-content: center; gap: 10px; align-items: center; }
        input[type="number"] { width: 60px; padding: 8px; border: 1px solid #ddd; border-radius: 6px; text-align: center; font-family: inherit; }
        
        .btn-group { display: flex; gap: 10px; flex-direction: column; }
        .btn-compress { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 10px; width: 100%; font-size: 16px; font-weight: 600; cursor: pointer; transition: 0.2s; }
        .btn-compress:active { transform: scale(0.96); } 
        
        /* ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§¨‡§ü‡§® ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ */
        .btn-reset { background: #f1f1f1; color: #666; border: none; padding: 10px; border-radius: 8px; font-size: 14px; cursor: pointer; transition: 0.2s; margin-top: 10px; }
        .btn-reset:hover { background: #e0e0e0; }

        .success-msg { color: #27ae60; background: #eafaf1; padding: 10px; border-radius: 8px; margin-top: 15px; display: none; font-size: 14px; font-weight: 600; animation: slideUp 0.4s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .btn-download { background: #333; color: white; border: none; padding: 12px; border-radius: 10px; width: 100%; margin-top: 10px; display: none; cursor: pointer; font-weight: 500; font-family: inherit; transition: 0.3s; }
        .btn-download:hover { background: #000; }

        .exam-tags { font-size: 11px; color: #888; margin-top: 15px; border-top: 1px solid #eee; padding-top: 15px; }
        .footer { margin-top: auto; padding: 20px; color: #888; font-size: 13px; text-align: center; }
    </style>
</head>
<body>

<div class="navbar">üü£ Unbound Compressor</div>

<div class="container">
    <div class="info-badge">Formula: 1 MB = 1000 KB</div>
    
    <div class="upload-area" id="dropZone" onclick="document.getElementById('fileInput').click()">
        <img id="preview">
        <span id="fileName" style="font-size: 14px; color: #666; word-break: break-all;">‡§´‡•ã‡§ü‡•ã ‡§Ø‡§æ ‡§∏‡§ø‡§ó‡•ç‡§®‡•á‡§ö‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç</span>
        <input type="file" id="fileInput" hidden accept="image/*">
    </div>

    <div class="input-group">
        <span>‡§ü‡§æ‡§∞‡§ó‡•á‡§ü ‡§∏‡§æ‡§á‡§ú (kB):</span>
        <input type="number" id="targetSize" value="20">
    </div>

    <div class="btn-group">
        <button class="btn-compress" onclick="compressImage()">Compress Now</button>
        <button class="btn-reset" onclick="resetTool()">Reset</button>
    </div>

    <div id="status" class="success-msg"></div>
    <button id="downloadBtn" class="btn-download">Download Image</button>

    <div class="exam-tags">SSC ‚Ä¢ UPSC ‚Ä¢ Railway ‚Ä¢ Police ‚Ä¢ Banking ‚Ä¢ All State Exams</div>
</div>

<div class="footer">‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à <b>‡§∂‡§ø‡§µ‡§Æ</b> ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ | <b>Unbound Safar</b></div>

<script>
    const fileInput = document.getElementById('fileInput');
    const preview = document.getElementById('preview');
    const fileName = document.getElementById('fileName');
    const status = document.getElementById('status');
    const downloadBtn = document.getElementById('downloadBtn');
    let originalImage = null;

    fileInput.onchange = (e) => {
        const file = e.target.files[0];
        if (file) {
            fileName.innerText = file.name;
            const reader = new FileReader();
            reader.onload = (event) => {
                originalImage = new Image();
                originalImage.src = event.target.result;
                originalImage.onload = () => {
                    preview.src = originalImage.src;
                    preview.style.display = 'block';
                }
            };
            reader.readAsDataURL(file);
        }
    };

    function resetTool() {
        fileInput.value = "";
        preview.src = "";
        preview.style.display = 'none';
        fileName.innerText = "‡§´‡•ã‡§ü‡•ã ‡§Ø‡§æ ‡§∏‡§ø‡§ó‡•ç‡§®‡•á‡§ö‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç";
        status.style.display = 'none';
        downloadBtn.style.display = 'none';
        originalImage = null;
    }

    async function compressImage() {
        if (!originalImage) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡•ã‡§ü‡•ã ‡§ö‡•Å‡§®‡•á‡§Ç!"); return; }
        const targetKB = parseFloat(document.getElementById('targetSize').value);
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');

        let width = originalImage.width;
        let height = originalImage.height;
        const max_dim = 1600; 
        if (width > max_dim || height > max_dim) {
            if (width > height) { height *= max_dim / width; width = max_dim; }
            else { width *= max_dim / height; height = max_dim; }
        }

        canvas.width = width;
        canvas.height = height;
        ctx.drawImage(originalImage, 0, 0, width, height);

        let quality = 0.98; 
        let blob;
        for (let i = 0; i < 45; i++) { 
            blob = await new Promise(r => canvas.toBlob(r, 'image/jpeg', quality));
            if (blob.size / 1024 <= targetKB) break;
            quality -= 0.02; 
            if (quality <= 0.05) break;
        }

        const url = URL.createObjectURL(blob);
        status.innerText = `‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à! ‡§∏‡§æ‡§á‡§ú: ${(blob.size / 1024).toFixed(2)} KB`;
        status.style.display = 'block';
        downloadBtn.style.display = 'block';
        downloadBtn.onclick = () => {
            const a = document.createElement('a');
            a.href = url;
            a.download = `unbound_${fileInput.files[0].name.split('.')[0]}.jpg`;
            a.click();
        };
    }
</script>
</body>
</html>
